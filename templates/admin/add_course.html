{% extends "base.html" %}

{% block content %}
<div class="container-fluid">
    <!-- Judul Halaman yang Lebih Menonjol -->
    <h1 class="mb-5 text-primary border-bottom pb-3">
        <i class="bi bi-plus-square-fill me-3"></i> Tambah Kursus Baru
    </h1>

    <!-- Card Konten Utama dengan Shadow dan Border Radius -->
    <div class="card shadow-lg p-5 border-0 rounded-4">
        <!-- PENTING: Tambahkan enctype="multipart/form-data" untuk mengizinkan upload file -->
        <form method="POST" action="{{ url_for('add_course') }}" enctype="multipart/form-data">
            {{ form.hidden_tag() }}
            
            <div class="row g-5">
                <!-- Kolom Kiri: Info Dasar & Media -->
                <div class="col-md-6 border-end pe-md-5">
                    
                    <!-- INFORMASI DASAR -->
                    <h4 class="text-primary mb-4 pb-2 border-bottom"><i class="bi bi-info-circle-fill me-2"></i> Informasi Dasar</h4>
                    
                    <div class="mb-4">
                        {{ form.title.label(class="form-label fw-bold text-dark") }}
                        {{ form.title(class="form-control form-control-lg", placeholder="Contoh: Full-Stack Web Developer dengan Flask") }}
                        {% for error in form.title.errors %}
                            <div class="text-danger small mt-1">{{ error }}</div>
                        {% endfor %}
                    </div>
                    
                    <div class="mb-4">
                        {{ form.description.label(class="form-label fw-bold text-dark") }}
                        {{ form.description(class="form-control", rows=5, placeholder="Jelaskan apa yang akan dipelajari di kursus ini...") }}
                        {% for error in form.description.errors %}
                            <div class="text-danger small mt-1">{{ error }}</div>
                        {% endfor %}
                    </div>

                    <div class="mb-5">
                        {{ form.category.label(class="form-label fw-bold text-dark") }}
                        {{ form.category(class="form-select form-select-lg") }} 
                        {% for error in form.category.errors %}
                            <div class="text-danger small mt-1">{{ error }}</div>
                        {% endfor %}
                    </div>
                    
                    <!-- MEDIA & HARGA -->
                    <h4 class="text-primary mb-4 pb-2 border-bottom"><i class="bi bi-tags-fill me-2"></i> Media & Harga</h4>
                    
                    <!-- FIELD UPLOAD GAMBAR KURSUS -->
                    <div class="mb-4">
                        {{ form.image.label(class="form-label fw-bold text-dark") }} 
                        {{ form.image(class="form-control", accept="image/*") }} 
                        <div class="form-text">Unggah gambar sampul kursus (JPG, PNG).</div>
                        {% for error in form.image.errors %}
                            <div class="text-danger small mt-1">{{ error }}</div>
                        {% endfor %}
                    </div>
                    <!-- END FIELD UPLOAD GAMBAR KURSUS -->
                    
                    <div class="row">
                        <div class="col-md-6 mb-4">
                            {{ form.price.label(class="form-label fw-bold text-dark") }}
                            <div class="input-group">
                                <span class="input-group-text">Rp</span>
                                {{ form.price(class="form-control", placeholder="0") }}
                            </div>
                            {% for error in form.price.errors %}
                                <div class="text-danger small mt-1">{{ error }}</div>
                            {% endfor %}
                        </div>
                        <div class="col-md-6 mb-4">
                            {{ form.discount_percent.label(class="form-label fw-bold text-dark") }}
                            <div class="input-group">
                                {{ form.discount_percent(class="form-control", placeholder="0") }}
                                <span class="input-group-text">%</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Kolom Kanan: Info Instruktur -->
                <div class="col-md-6 ps-md-5">
                    <h4 class="text-primary mb-4 pb-2 border-bottom"><i class="bi bi-person-badge-fill me-2"></i> Informasi Instruktur</h4>
                    
                    <div class="mb-4">
                        {{ form.instructor_name.label(class="form-label fw-bold text-dark") }}
                        {{ form.instructor_name(class="form-control", placeholder="Nama Lengkap Instruktur") }}
                        {% for error in form.instructor_name.errors %}
                            <div class="text-danger small mt-1">{{ error }}</div>
                        {% endfor %}
                    </div>
                    
                    <div class="mb-4">
                        {{ form.instructor_title.label(class="form-label fw-bold text-dark") }}
                        {{ form.instructor_title(class="form-control", placeholder="Contoh: Senior Developer") }}
                    </div>
                    
                    <!-- FIELD UPLOAD FOTO INSTRUKTUR -->
                    <div class="mb-4">
                        {{ form.instructor_image.label(class="form-label fw-bold text-dark") }}
                        {{ form.instructor_image(class="form-control", accept="image/*") }}
                        <div class="form-text">Unggah foto profil instruktur (JPG, PNG).</div>
                        {% for error in form.instructor_image.errors %}
                            <div class="text-danger small mt-1">{{ error }}</div>
                        {% endfor %}
                    </div>
                    <!-- END FIELD UPLOAD FOTO INSTRUKTUR -->
                    
                    <div class="mb-4">
                        {{ form.rating.label(class="form-label fw-bold text-dark") }}
                        {{ form.rating(class="form-control", placeholder="4.5") }}
                        {% for error in form.rating.errors %}
                            <div class="text-danger small mt-1">{{ error }}</div>
                        {% endfor %}
                    </div>
                </div>
            </div>
            
            <hr class="my-5">
            
            <div class="d-flex justify-content-between">
                <a href="{{ url_for('admin_courses') }}" class="btn btn-outline-secondary btn-lg px-4">
                    <i class="bi bi-arrow-left me-2"></i> Batal
                </a>
                {{ form.submit(class="btn btn-primary btn-lg px-5 shadow-sm", value="Buat Kursus") }}
            </div>
        </form>
    </div>
</div>
{% endblock %}